(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{177:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return u})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return l}));var r=n(1),c=n(6),a=(n(0),n(191)),o={id:"reusing-reducer-logic",title:"\ub9ac\ub4c0\uc11c \ub85c\uc9c1 \uc7ac\uc0ac\uc6a9\ud558\uae30",description:"\ub9ac\ub4c0\uc11c \uad6c\uc870 \uc7a1\uae30 > \ub9ac\ub4c0\uc11c \ub85c\uc9c1 \uc7ac\uc0ac\uc6a9\ud558\uae30: Patterns for creating reusable reducers",hide_title:!0},u={id:"recipes/structuring-reducers/reusing-reducer-logic",title:"\ub9ac\ub4c0\uc11c \ub85c\uc9c1 \uc7ac\uc0ac\uc6a9\ud558\uae30",description:"\ub9ac\ub4c0\uc11c \uad6c\uc870 \uc7a1\uae30 > \ub9ac\ub4c0\uc11c \ub85c\uc9c1 \uc7ac\uc0ac\uc6a9\ud558\uae30: Patterns for creating reusable reducers",source:"@site/../docs_kr/recipes/structuring-reducers/ReusingReducerLogic.md",permalink:"/recipes/structuring-reducers/reusing-reducer-logic",sidebar:"docs",previous:{title:"\uc815\uaddc\ud654\ub41c \ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8\ud558\uae30",permalink:"/recipes/structuring-reducers/updating-normalized-data"},next:{title:"\ubd88\ubcc0 \uc5c5\ub370\uc774\ud2b8 \ud328\ud134",permalink:"/recipes/structuring-reducers/immutable-update-patterns"}},i=[{value:"\uace0\ucc28 \ub9ac\ub4c0\uc11c\ub85c \ub3d9\uc791 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5\ud558\uae30",id:"\uace0\ucc28-\ub9ac\ub4c0\uc11c\ub85c-\ub3d9\uc791-\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5\ud558\uae30",children:[]},{value:"Collection / Item Reducer Pattern",id:"collection--item-reducer-pattern",children:[]}],s={rightToc:i};function l(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"\ub9ac\ub4c0\uc11c-\ub85c\uc9c1-\uc7ac\uc0ac\uc6a9\ud558\uae30"},"\ub9ac\ub4c0\uc11c \ub85c\uc9c1 \uc7ac\uc0ac\uc6a9\ud558\uae30"),Object(a.b)("p",null,'\uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ud06c\uae30\uac00 \ucee4\uc9c0\uba74 \ub9ac\ub4c0\uc11c \ub85c\uc9c1\uc758 \uacf5\ud1b5\ub41c \ud328\ud134\uc774 \ub098\ud0c0\ub0a0 \uac81\ub2c8\ub2e4. \uc5b4\uca4c\uba74 \ub2f9\uc2e0\uc758 \ub9ac\ub4c0\uc11c\ub85c\uc9c1\uc774 \ub2e4\ub978 \uc885\ub958\ub9cc \ub2e4\ub978 \ub370\uc774\ud130\uc5d0 \ub300\ud574 \uac19\uc740 \uc77c\uc744 \ud568\uc744 \ubc1c\uacac\ud558\uace0 \uc911\ubcf5\uc744 \uc904\uc774\uace0\uc790 \uac01 \ub370\uc774\ud130 \ud0c0\uc785\uc5d0 \ub300\ud574 \uac19\uc740 \ub85c\uc9c1\uc744 \uc7ac\uc0ac\uc6a9\ud558\uace0 \uc2f6\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ub294 \ud2b9\uc815 \ub370\uc774\ud130\uc5d0 \ub300\ud574 \uc5ec\ub7ec "\uc778\uc2a4\ud134\uc2a4"\ub97c \uc800\uc7a5\uc18c\uc5d0\uc11c \ucc98\ub9ac\ud558\uace0 \uc2f6\uc744 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc804\uc5ed \ub9ac\ub355\uc2a4 \uad6c\uc870\ub294 \uba87 \uac00\uc9c0 \ud2b8\ub808\uc774\ub4dc\uc624\ud504\uac00 \uc788\uc2b5\ub2c8\ub2e4: \uc774\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc804\uccb4\uc801\uc778 \uc0c1\ud0dc\ub97c \uc27d\uac8c \ucd94\uc801\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ud2b9\ud788 ',Object(a.b)("inlineCode",{parentName:"p"},"combineReducers"),'\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0, \uc5c5\ub370\uc774\ud2b8\uac00 \ud544\uc694\ud55c \uc0c1\ud0dc \uc870\uac01\uc744 "\uc9c0\uc815\ud558\ub294 \uc791\uc5c5"\uc744 \uc5b4\ub835\uac8c \ud569\ub2c8\ub2e4.'),Object(a.b)("p",null,"\uc608\uc81c\uc5d0\uc11c, \uc6b0\ub9ac\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c A,B,C\ub77c\ub294 \uc5ec\ub7ec \uce74\uc6b4\ud130\ub97c \ucd94\uc801\ud558\uace0 \uc2f6\uc5b4\ud569\ub2c8\ub2e4. \uc6b0\ub9ac\ub294 \ucd08\uae30 ",Object(a.b)("inlineCode",{parentName:"p"},"counter"),"\ub97c \uc815\uc758\ud558\uace0 \uc0c1\ud0dc\ub97c \uc124\uc815\ud558\uae30 \uc704\ud574 ",Object(a.b)("inlineCode",{parentName:"p"},"combineReducers"),"\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"function counter(state = 0, action) {\n  switch (action.type) {\n    case 'INCREMENT':\n      return state + 1\n    case 'DECREMENT':\n      return state - 1\n    default:\n      return state\n  }\n}\n\nconst rootReducer = combineReducers({\n  counterA: counter,\n  counterB: counter,\n  counterC: counter\n})\n")),Object(a.b)("p",null,"\uc548\ud0c0\uae5d\uac8c\ub3c4 \uc774 \uc124\uc815\uc5d4 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4.",Object(a.b)("inlineCode",{parentName:"p"},"combineReducers"),"\ub294 \uac19\uc740 \uc561\uc158\uc5d0 \ub300\ud574 \uac01 \uc2ac\ub77c\uc774\uc2a4 \ub9ac\ub4c0\uc11c\ub97c \ud638\ucd9c\ud569\ub2c8\ub2e4. ",Object(a.b)("inlineCode",{parentName:"p"},"{type : 'INCREMENT'}"),"\uac00 \ub514\uc2a4\ud328\uce58\ub418\uba74 \ud558\ub098\uac00 \uc544\ub2cc \uc138 \uce74\uc6b4\ud130 \uac12\uc744 \uc99d\uac00\uc2dc\ud0ac \uac81\ub2c8\ub2e4. \uc6b0\ub9ac\uac00 \uc6d0\ud558\ub294 \uce74\uc6b4\ud130\uac12\ub9cc\uc744 \uc99d\uac00\uc2dc\ud0a4\uae30 \uc704\ud574 ",Object(a.b)("inlineCode",{parentName:"p"},"counter"),"\ub85c\uc9c1\uc744 \ub798\ud551\ud558\ub294 \ubc29\ubc95\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),Object(a.b)("h2",{id:"\uace0\ucc28-\ub9ac\ub4c0\uc11c\ub85c-\ub3d9\uc791-\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5\ud558\uae30"},"\uace0\ucc28 \ub9ac\ub4c0\uc11c\ub85c \ub3d9\uc791 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5\ud558\uae30"),Object(a.b)("p",null,Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/recipes/structuring-reducers/splitting-reducer-logic"}),"\ub9ac\ub4c0\uc11c \ub85c\uc9c1 \ubd84\ub9ac\ud558\uae30"),'\uc5d0\uc11c \uc815\uc758\ub41c \uac83\ucc98\ub7fc, \uace0\ucc28 \ub9ac\ub4c0\uc11c\ub294 \ub9ac\ub4c0\uc11c \ud568\uc218\ub97c \uc778\uc790\ub85c \uac00\uc9c0\ub294 \ud568\uc218\uc774\uba70 \uacb0\uacfc\ub85c \uc0c8\ub85c\uc6b4 \ub9ac\ub4c0\uc11c\ud568\uc218\ub97c \ub9ac\ud134\ud569\ub2c8\ub2e4. \uc774\ub294 "\ub9ac\ub4c0\uc11c \uacf5\uc7a5"\uc73c\ub85c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. ',Object(a.b)("inlineCode",{parentName:"p"},"combineReducers"),"\ub294 \uace0\ucc28 \ub9ac\ub4c0\uc11c\uc758 \ud55c \uc608\uc81c\uc785\ub2c8\ub2e4. \uc774 \ud328\ud134\uc744 \uc0ac\uc6a9\ud574\uc11c \ud2b9\uc815 \uc561\uc158\uc5d0 \ubc18\uc751\ud558\ub294 \uc790\uc2e0\ub9cc\uc758 \ub9ac\ub4c0\uc11c \ud568\uc218\uc758 \ud2b9\uc218 \ubc84\uc804\uc744 \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"function createCounterWithNamedType(counterName = '') {\n  return function counter(state = 0, action) {\n    switch (action.type) {\n      case `INCREMENT_${counterName}`:\n        return state + 1\n      case `DECREMENT_${counterName}`:\n        return state - 1\n      default:\n        return state\n    }\n  }\n}\n\nfunction createCounterWithNameData(counterName = '') {\n  return function counter(state = 0, action) {\n    const { name } = action\n    if (name !== counterName) return state\n\n    switch (action.type) {\n      case `INCREMENT`:\n        return state + 1\n      case `DECREMENT`:\n        return state - 1\n      default:\n        return state\n    }\n  }\n}\n")),Object(a.b)("p",null,"\uc6b0\ub9ac\ub294 \uc774\uc81c \ud2b9\uc218\ud55c \uce74\uc6b4\ud130 \ub9ac\ub4c0\uc11c\ub97c \uc0dd\uc131\ud558\uae30 \uc704\ud574 \uc774 \uc911 \ud558\ub098\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4\uc57c \ud558\uba70 \uc6b0\ub9ac\uac00 \ud544\uc694\ud55c \uc0c1\ud0dc\uc758 \ubd80\ubd84\uc5d0\ub9cc \uc601\ud5a5\uc744 \uc904 \uc218 \uc788\ub294 \uc561\uc158\uc744 \ub514\uc2a4\ud328\uce58 \ud560 \uc218 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const rootReducer = combineReducers({\n  counterA: createCounterWithNamedType('A'),\n  counterB: createCounterWithNamedType('B'),\n  counterC: createCounterWithNamedType('C')\n})\n\nstore.dispatch({ type: 'INCREMENT_B' })\nconsole.log(store.getState())\n// {counterA : 0, counterB : 1, counterC : 0}\n")),Object(a.b)("p",null,"\ub610\ud55c \uc811\uadfc\ubc95\uc744 \uc57d\uac04 \ubc14\uafd4\uc11c \uc8fc\uc5b4\uc9c4 \ub9ac\ub4c0\uc11c \ud639\uc740 \uc774\ub984 \ub610\ub294 \uad6c\ubd84\uc790\ub97c \ubaa8\ub450 \ubc1b\uc544\ub4e4\uc774\ub294 \uace0\ucc28 \ub9ac\ub4c0\uc11c\ud568\uc218\ub97c \ub9cc\ub4ed\ub2c8\ub2e4."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"function counter(state = 0, action) {\n  switch (action.type) {\n    case 'INCREMENT':\n      return state + 1\n    case 'DECREMENT':\n      return state - 1\n    default:\n      return state\n  }\n}\n\nfunction createNamedWrapperReducer(reducerFunction, reducerName) {\n  return (state, action) => {\n    const { name } = action\n    const isInitializationCall = state === undefined\n    if (name !== reducerName && !isInitializationCall) return state\n\n    return reducerFunction(state, action)\n  }\n}\n\nconst rootReducer = combineReducers({\n  counterA: createNamedWrapperReducer(counter, 'A'),\n  counterB: createNamedWrapperReducer(counter, 'B'),\n  counterC: createNamedWrapperReducer(counter, 'C')\n})\n")),Object(a.b)("p",null,"\uc77c\ubc18 \ud544\ud130\ub9c1\uc774 \uc801\uc6a9\ub41c \uace0\ucc28 \ub9ac\ub4c0\uc11c\ub97c \ub9cc\ub4e4 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"function createFilteredReducer(reducerFunction, reducerPredicate) {\n    return (state, action) => {\n        const isInitializationCall = state === undefined;\n        const shouldRunWrappedReducer = reducerPredicate(action) || isInitializationCall;\n        return shouldRunWrappedReducer ? reducerFunction(state, action) : state;\n    }\n}\n\nconst rootReducer = combineReducers({\n    // \uc811\ubbf8\uc0ac \uccb4\ud06c\n    counterA : createFilteredReducer(counter, action => action.type.endsWith('_A')),\n    // \uc561\uc158\uc758 \ucd94\uac00\ub370\uc774\ud130 \uccb4\ud06c\n    counterB : createFilteredReducer(counter, action => action.name === 'B'),\n    // \ubaa8\ub4e0 'INCREMENT'\uc561\uc158\uc5d0 \ubc18\uc751\ud558\uc9c0\ub9cc 'DECREMENT'\ub294 \uc544\ub2d9\ub2c8\ub2e4.\n    counterC : createFilteredReducer(counter, action => action.type === 'INCREMENT')\n};\n")),Object(a.b)("p",null,"\uc774 \uae30\ubcf8\ud328\ud134\uc740 UI\uc5d0\uc11c \uc2a4\ub9c8\ud2b8\ud558\uac8c \uc5f0\uacb0\ub41c \uc778\uc2a4\ud134\uc2a4\ub97c \uc5ec\ub7ec \uac1c \ub9cc\ub4e4\uac70\ub098, \ud398\uc774\uc9c0\ub124\uc774\uc158\uc774\ub098 \uc815\ub82c \uac19\uc740 \uae30\ub2a5\uc5d0 \uc77c\ubc18\uc801\uc778 \ub85c\uc9c1\uc744 \uc7ac\uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),Object(a.b)("h2",{id:"collection--item-reducer-pattern"},"Collection / Item Reducer Pattern"),Object(a.b)("p",null,"This pattern allows you to have multiple states and use a common reducer to update each state based on an additional parameter inside the action object."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),'function counterReducer(state, action) {\n    switch(action.type) {\n        case "INCREMENT" : return state + 1;\n        case "DECREMENT" : return state - 1;\n    }\n}\n\nfunction countersArrayReducer(state, action) {\n    switch(action.type) {\n        case "INCREMENT":\n        case "DECREMENT":\n            return state.map( (counter, index) => {\n                if(index !== action.index) return counter;\n                return counterReducer(counter, action);\n            });\n        default:\n            return state;\n    }\n}\n\nfunction countersMapReducer(state, action) {\n    switch(action.type) {\n        case "INCREMENT":\n        case "DECREMENT":\n            return {\n                ...state,\n                state[action.name] : counterReducer(state[action.name], action)\n            };\n        default:\n            return state;\n    }\n}\n')))}l.isMDXComponent=!0},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),c=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var s=c.a.createContext({}),l=function(e){var t=c.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):u({},t,{},e)),n},p=function(e){var t=l(e.components);return c.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},b=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=l(n),b=r,m=p["".concat(o,".").concat(b)]||p[b]||d[b]||a;return n?c.a.createElement(m,u({ref:t},s,{components:n})):c.a.createElement(m,u({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=b;var u={};for(var i in t)hasOwnProperty.call(t,i)&&(u[i]=t[i]);u.originalType=e,u.mdxType="string"==typeof e?e:r,o[1]=u;for(var s=2;s<a;s++)o[s]=n[s];return c.a.createElement.apply(null,o)}return c.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);